<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Hello, world!</title>
</head>
<body>
    <div class="container mt-5">
        <h1>Buscador con IndexOf</h1>
        <input type="text" id="formulario" class="form-control my-2">
        <button class="btn btn-info mb-2" id="boton">Buscar</button>  
    <ul id="resultado">

    </ul>
    </div>


    <script>

        const productos = [
            {nombre: 'platano', valor: 500},
            {nombre: 'pera', valor:200},
            {nombre: 'sandia', valor: 150},
            {nombre: 'fresa', valor: 50},
            {nombre: 'melon', valor: 250},
        ]
        const formulario = document.querySelector('#formulario');
        const boton = document.querySelector('#boton');
        const resultado = document.querySelector('#resultado');

        const filtrar = ()=> {
           // console.log(formular
           resultado.innerHTML='';
       //guardar tecto del usuario
       const texto = formulario.value.toLowerCase();

       for(let producto of productos){
           let nombre = producto.nombre.toLocaleLowerCase();
           if(nombre.indexOf(texto) !== -1){ //si no encuentra retorna menos 1
resultado.innerHTML += `
<li>${ producto.nombre} - valor: ${producto.valor}
    </li>
`
  }
       }
if(resultado.innerHTML === ''){
    resultado.innerHTML += `
    <li>Producto no encontrado...</li>`
}
    }
        boton.addEventListener('click', filtrar);
    formulario.addEventListener('keyup', filtrar)
    </script>
</body>
</html>